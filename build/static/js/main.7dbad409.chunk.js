(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),o=n(7),a=n.n(o),s=(n(14),n(15),n(16),n(2));n(17);var r=n(0),l=function(e){var t=e.onAdd,n=e.isHide,i=void 0===n||n,o=function(e){var t=Object(c.useRef)(null),n=Object(c.useCallback)((function(){var n=t.current.value.trim();if(n.length){var c={key:Date.now(),content:n,completed:!1};e(c),t.current.value=""}}),[e]),i=Object(c.useCallback)((function(e){13===e.keyCode&&n()}),[n]);return[t,i,n]}(t),a=Object(s.a)(o,3),l=a[0],u=a[1],d=a[2];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:"nav-input".concat(i?" hide":""),type:"text",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",ref:l,onKeyDown:u}),Object(r.jsx)("button",{className:"nav-add-btn".concat(i?" hide":""),onClick:d})]})},u=function(e){var t=e.title,n=e.hideInput,c=void 0!==n&&n,i=e.onTitleClick,o=e.onAdd;return Object(r.jsxs)("div",{className:"nav",children:[Object(r.jsx)("span",{className:"nav-title",onClick:function(){return i()},children:t}),Object(r.jsx)(l,{isHide:c,onAdd:o})]})};n(19);var d=function(e){var t=e.title,n=e.list,i=e.emptyContent,o=void 0===i?"\u65e0":i,a=e.reverse,s=e.deleteButtonText,l=void 0===s?"\u6e05\u7a7a":s,u=e.onChange,d=e.onDelete,j=function(e,t,n,i,o){var a=t;n&&(a=t.slice().reverse());var s=Object(c.useCallback)((function(){o(a)}),[o,a]),r=Object(c.useCallback)((function(e){var t=e.target.dataset.index;"undefined"!==typeof t&&i(a[t])}),[i,a]);return{isEmpty:0===t.length,showHeader:Boolean(e)||o,sortedList:a,onClear:s,onClick:r}}(t,n,a,u,d),v=j.isEmpty,b=j.showHeader,f=j.sortedList,h=j.onClear,p=j.onClick;return v?Object(r.jsx)("div",{className:"empty",children:o}):Object(r.jsxs)("div",{className:"todo-list",onClick:p,children:[b&&Object(r.jsxs)("div",{className:"todo-title",children:[Object(r.jsx)("span",{children:t||"\u672a\u547d\u540d\u6807\u9898"}),d&&Object(r.jsx)("button",{className:"clear-btn",onClick:h,children:l})]}),f.map((function(e,t){return Object(r.jsxs)("li",{className:"todo-item","data-index":t,children:[Object(r.jsx)("input",{type:"checkbox",defaultChecked:e.completed}),Object(r.jsx)("span",{className:"todo-item-text".concat(e.completed?" completed":""),children:e.content})]},e.key)}))]})},j=n(8),v=n(9),b=n(5);function f(e,t){switch(t.type){case"add":return[].concat(Object(b.a)(e),Object(b.a)(t.val));case"change":var n=e.findIndex((function(e){return e===t.val[0]})),c=Object(v.a)({},e[n]);return c.completed=!c.completed,[].concat(Object(b.a)(e.slice(0,n)),[c],Object(b.a)(e.slice(n+1)));case"delete":var i,o=[],a=Object(j.a)(t.val);try{var s=function(){var t=i.value,n=e.findIndex((function(e){return e===t}));o.push(n)};for(a.s();!(i=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}for(var r=[],l=0;l<e.length;l++)o.includes(l)||r.push(e[l]);return r;case"clear":if(e.length)return[]}return e}function h(e){var t=function(e){var t=Object(c.useReducer)(f,e),n=Object(s.a)(t,2),i=n[0],o=n[1],a=Object(c.useMemo)((function(){return i.filter((function(e){return!e.completed}))}),[i]);Object(c.useEffect)((function(){localStorage.setItem("todoList",JSON.stringify(i)),p(i.length-a.length)}),[i,a]);var r=Object(c.useMemo)((function(){return e.filter((function(e){return e.completed}))}),[e]),l=Object(c.useState)(r),u=Object(s.a)(l,2),d=u[0],j=u[1],v=Object(c.useState)(d.length),b=Object(s.a)(v,2),h=b[0],p=b[1];return Object(c.useEffect)((function(){d.length!==h&&j(i.filter((function(e){return e.completed})))}),[i,d,h]),[[a,d],o]}(function(e,t){var n=Object(c.useMemo)((function(){var t=localStorage.getItem(e);return null===t?null:JSON.parse(t)}),[e]);return null===n?t:n}("todoList",[])),n=Object(s.a)(t,2),i=n[0],o=n[1],a=Object(c.useCallback)((function(e){o({type:"add",val:[e]})}),[o]),r=Object(c.useMemo)((function(){var t=[],n=[];return e.forEach((function(e){var c=e.navTitle,i=void 0===c?"\u672a\u547d\u540d\u6807\u9898":c,o=e.canInput,a=void 0===o||o;t.push(i),n.push(!a)})),[t,n]}),[e]),l=Object(s.a)(r,2),u=l[0],d=l[1],j=Object(c.useState)(0),v=Object(s.a)(j,2),b=v[0],h=v[1],p=Object(c.useCallback)((function(){h((function(e){return(e+1)%u.length}))}),[h,u]);return{index:b,navTitle:u[b],hideInput:d[b],lists:i,onTitleClick:p,onAdd:a,dispatch:o}}var p=function(e){var t=e.listModes,n=e.lists,i=e.dispatch,o=e.index,a=void 0===o?0:o,l=function(e,t){var n=Object(c.useMemo)((function(){var t=[],n=[],c=[],i=[],o=[];return e.forEach((function(e){var a=e.listTitle,s=void 0===a?"\u672a\u547d\u540d\u6807\u9898":a,r=e.emptyContent,l=void 0===r?"\u65e0":r,u=e.reverse,d=void 0!==u&&u,j=e.canClear,v=void 0===j||j,b=e.deleteButtonText,f=void 0===b?"\u6e05\u7a7a":b;t.push(s),n.push(l),c.push(d),i.push(v),o.push(f)})),[t,n,c,i,o]}),[e]),i=Object(s.a)(n,5);return{titles:i[0],emptyContents:i[1],reverses:i[2],canClears:i[3],deleteButtonTexts:i[4],onChange:Object(c.useCallback)((function(e){t({type:"change",val:[e]})}),[t]),onDelete:Object(c.useCallback)((function(e){t({type:"delete",val:e})}),[t])}}(t,i),u=l.titles,j=l.emptyContents,v=l.reverses,b=l.canClears,f=l.deleteButtonTexts,h=l.onChange,p=l.onDelete;return u.map((function(e,t){return Object(r.jsx)(d,{title:e,list:n[t],emptyContent:j[t],reverse:v[t],deleteButtonText:f[t],onChange:h,onDelete:b[t]?p:void 0})}))[a]},O=function(e){var t=e.listModes,n=void 0===t?[]:t,c=h(n),i=c.index,o=c.navTitle,a=c.hideInput,s=c.lists,l=c.dispatch,d=c.onTitleClick,j=c.onAdd;return Object(r.jsxs)("div",{className:"todo",children:[Object(r.jsx)(u,{title:o,hideInput:a,onTitleClick:d,onAdd:j}),Object(r.jsx)(p,{listModes:n,lists:s,dispatch:l,index:i})]})},m=function(){var e=Object(c.useMemo)((function(){return[{navTitle:"Todo List",listTitle:"\u5f85\u529e",emptyContent:"\u4ec0\u4e48\u5f85\u529e\u90fd\u6ca1\u6709(\u25cf'\u25e1'\u25cf)",reverse:!0,canClear:!1},{navTitle:"Done List",listTitle:"\u5df2\u5b8c\u6210",emptyContent:"\u4ec0\u4e48\u90fd\u6ca1\u6709\u5b8c\u6210(\u25cf'\u25e1'\u25cf)",canInput:!1}]}),[]);return Object(r.jsx)("div",{className:"app",children:Object(r.jsx)(O,{listModes:e})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),o(e),a(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root")),C()}],[[20,1,2]]]);
//# sourceMappingURL=main.7dbad409.chunk.js.map