(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),o=n(7),r=n.n(o),a=(n(14),n(15),n(16),n(2));n(17);var s=n(0),l=function(e){var t=e.onAdd,n=e.isHide,i=void 0===n||n,o=function(e){var t=Object(c.useRef)(null),n=function(){var n=t.current.value.trim();if(n.length){var c={key:Date.now(),content:n,completed:!1};e(c),t.current.value=""}};return[t,function(e){return 13===e.keyCode&&n()},n]}(t),r=Object(a.a)(o,3),l=r[0],u=r[1],d=r[2];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",{className:"nav-input".concat(i?" hide":""),type:"text",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",ref:l,onKeyDown:u}),Object(s.jsx)("button",{className:"nav-add-btn".concat(i?" hide":""),onClick:d})]})},u=function(e){var t=e.title,n=e.hideInput,c=void 0!==n&&n,i=e.onTitleClick,o=e.onAdd;return Object(s.jsxs)("div",{className:"nav",children:[Object(s.jsx)("span",{className:"nav-title",onClick:function(){return i()},children:t}),Object(s.jsx)(l,{isHide:c,onAdd:o})]})};n(19);var d=function(e){var t=e.title,n=e.list,c=e.emptyContent,i=void 0===c?"\u65e0":c,o=e.reverse,r=e.deleteButtonText,a=void 0===r?"\u6e05\u7a7a":r,l=e.onChange,u=e.onDelete,d=function(e,t,n,c,i){var o=t;return n&&(o=t.slice().reverse()),{isEmpty:0===o.length,showHeader:Boolean(e)||i,sortedList:o,onClear:function(){return i(o)},onClick:function(e){var t=Number(e.currentTarget.dataset.index);c(o[t])}}}(t,n,o,l,u),v=d.isEmpty,j=d.showHeader,f=d.sortedList,h=d.onClear,p=d.onClick;return v?Object(s.jsx)("div",{className:"empty",children:i}):Object(s.jsxs)("div",{className:"todo-list",children:[j&&Object(s.jsxs)("div",{className:"todo-title",children:[Object(s.jsx)("span",{children:t||"\u672a\u547d\u540d\u6807\u9898"}),u&&Object(s.jsx)("button",{className:"clear-btn",onClick:h,children:a})]}),f.map((function(e,t){return Object(s.jsxs)("li",{className:"todo-item","data-index":t,onClick:p,children:[Object(s.jsx)("input",{type:"checkbox",defaultChecked:e.completed}),Object(s.jsx)("span",{className:"todo-item-text".concat(e.completed?" completed":""),children:e.content})]},e.key)}))]})},v=n(8),j=n(9),f=n(5);function h(e,t){switch(t.type){case"add":return[].concat(Object(f.a)(e),Object(f.a)(t.val));case"change":var n=e.findIndex((function(e){return e===t.val[0]})),c=Object(j.a)({},e[n]);return c.completed=!c.completed,[].concat(Object(f.a)(e.slice(0,n)),[c],Object(f.a)(e.slice(n+1)));case"delete":var i,o=[],r=Object(v.a)(t.val);try{var a=function(){var t=i.value,n=e.findIndex((function(e){return e===t}));o.push(n)};for(r.s();!(i=r.n()).done;)a()}catch(u){r.e(u)}finally{r.f()}for(var s=[],l=0;l<e.length;l++)o.includes(l)||s.push(e[l]);return s;case"clear":if(e.length)return[]}return e}function p(e){var t=function(e){var t=Object(c.useReducer)(h,e),n=Object(a.a)(t,2),i=n[0],o=n[1],r=i.filter((function(e){return!e.completed}));Object(c.useEffect)((function(){localStorage.setItem("todoList",JSON.stringify(i)),b(i.length-r.length)}),[i,r]);var s=e.filter((function(e){return e.completed})),l=Object(c.useState)(s),u=Object(a.a)(l,2),d=u[0],v=u[1],j=Object(c.useState)(d.length),f=Object(a.a)(j,2),p=f[0],b=f[1];return Object(c.useEffect)((function(){d.length!==p&&v(i.filter((function(e){return e.completed})))}),[i,d,p]),[[r,d],o]}(function(e,t){var n=localStorage.getItem(e);return null===n?t:JSON.parse(n)}("todoList",[])),n=Object(a.a)(t,2),i=n[0],o=n[1],r=Object(c.useCallback)((function(e){o({type:"add",val:[e]})}),[o]),s=Object(c.useMemo)((function(){var t=[],n=[];return e.forEach((function(e){var c=e.navTitle,i=void 0===c?"\u672a\u547d\u540d\u6807\u9898":c,o=e.canInput,r=void 0===o||o;t.push(i),n.push(!r)})),[t,n]}),[e]),l=Object(a.a)(s,2),u=l[0],d=l[1],v=Object(c.useState)(0),j=Object(a.a)(v,2),f=j[0],p=j[1],b=Object(c.useCallback)((function(){p((function(e){return(e+1)%u.length}))}),[p,u]);return{index:f,navTitle:u[f],hideInput:d[f],lists:i,onTitleClick:b,onAdd:r,dispatch:o}}var b=function(e){var t=e.listModes,n=void 0===t?[]:t,c=p(n),i=c.index,o=c.navTitle,r=c.hideInput,a=c.lists,l=c.dispatch,d=c.onTitleClick,v=c.onAdd;return Object(s.jsxs)("div",{className:"todo",children:[Object(s.jsx)(u,{title:o,hideInput:r,onTitleClick:d,onAdd:v}),Object(s.jsx)(O,{listModes:n,lists:a,dispatch:l,index:i})]})},O=function(e){var t=e.listModes,n=e.lists,i=e.dispatch,o=e.index,r=void 0===o?0:o,l=function(e,t){var n=Object(c.useMemo)((function(){var t=[],n=[],c=[],i=[],o=[];return e.forEach((function(e){var r=e.listTitle,a=void 0===r?"\u672a\u547d\u540d\u6807\u9898":r,s=e.emptyContent,l=void 0===s?"\u65e0":s,u=e.reverse,d=void 0!==u&&u,v=e.canClear,j=void 0===v||v,f=e.deleteButtonText,h=void 0===f?"\u6e05\u7a7a":f;t.push(a),n.push(l),c.push(d),i.push(j),o.push(h)})),[t,n,c,i,o]}),[e]),i=Object(a.a)(n,5);return{titles:i[0],emptyContents:i[1],reverses:i[2],canClears:i[3],deleteButtonTexts:i[4],onChange:function(e){return t({type:"change",val:[e]})},onDelete:function(e){return t({type:"delete",val:e})}}}(t,i),u=l.titles,v=l.emptyContents,j=l.reverses,f=l.canClears,h=l.deleteButtonTexts,p=l.onChange,b=l.onDelete;return u.map((function(e,t){return Object(s.jsx)(d,{title:e,list:n[t],emptyContent:v[t],reverse:j[t],deleteButtonText:h[t],onChange:p,onDelete:f[t]?b:void 0})}))[r]},m=function(){return Object(s.jsx)(b,{listModes:[{navTitle:"Todo List",listTitle:"\u5f85\u529e",emptyContent:"\u4ec0\u4e48\u5f85\u529e\u90fd\u6ca1\u6709(\u25cf'\u25e1'\u25cf)",reverse:!0,canClear:!1},{navTitle:"Done List",listTitle:"\u5df2\u5b8c\u6210",emptyContent:"\u4ec0\u4e48\u90fd\u6ca1\u6709\u5b8c\u6210(\u25cf'\u25e1'\u25cf)",canInput:!1}]})},x=function(){return Object(s.jsx)("div",{className:"app",children:Object(s.jsx)(m,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),o(e),r(e)}))};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),C()}],[[20,1,2]]]);
//# sourceMappingURL=main.7ef26281.chunk.js.map