(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),l=n(7),o=n.n(l),i=(n(14),n(15),n(2)),s=n(8),r=n(9),u=n(5),d=(n(16),n(17),n(0)),j=function(e){var t=e.onTitleClick,n=e.onAdd,a=Object(c.useState)(0),l=Object(i.a)(a,2),o=l[0],s=l[1],r=Object(c.useRef)(null),u=Object(c.useCallback)((function(){s((function(e){return(e+1)%2})),t()}),[t]),j=Object(c.useCallback)((function(){var e=r.current.value.trim();if(e.length){var t={key:Date.now(),content:e,completed:!1};n(t),r.current.value=""}}),[n]),b=Object(c.useCallback)((function(e){13===e.keyCode&&j()}),[j]),f=o>0,O=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{className:"nav-input".concat(f?" hide":""),type:"text",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",ref:r,onKeyDown:b}),Object(d.jsx)("button",{className:"nav-add-btn".concat(f?" hide":""),onClick:j})]});return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsx)("span",{className:"nav-title",onClick:u,children:["Todo List","Done List"][o]}),O]})},b=(n(19),function(e){var t=e.list,n=e.onChange,a=e.title,l=e.emptyContent,o=void 0===l?"\u65e0":l,i=e.reverse,s=e.onDelete;i&&(t=t.slice().reverse());var r=Object(c.useCallback)((function(){s(t)}),[s,t]),u=Object(c.useCallback)((function(e){var c=Number(e.currentTarget.dataset.index);n(t[c])}),[n,t]),j=Object(d.jsx)("div",{className:"empty",children:o});return t.length?Object(d.jsxs)("div",{className:"todo-list",children:[(Boolean(a)||s)&&Object(d.jsxs)("div",{className:"todo-title",children:[Object(d.jsx)("span",{children:a||"\u672a\u547d\u540d\u6807\u9898"}),s&&Object(d.jsx)("button",{className:"clear-btn",onClick:r,children:"\u6e05\u7a7a"})]}),t.map((function(e,t){return Object(d.jsxs)("li",{className:"todo-item","data-index":t,onClick:u,children:[Object(d.jsx)("input",{type:"checkbox",defaultChecked:e.completed}),Object(d.jsx)("span",{className:"todo-item-text".concat(e.completed?" completed":""),children:e.content})]},e.key)}))]}):j}),f=function(e,t){switch(t.type){case"add":return[].concat(Object(u.a)(e),Object(u.a)(t.val));case"change":var n=e.findIndex((function(e){return e===t.val[0]})),c=Object(r.a)({},e[n]);return c.completed=!c.completed,[].concat(Object(u.a)(e.slice(0,n)),[c],Object(u.a)(e.slice(n+1)));case"delete":var a,l=[],o=Object(s.a)(t.val);try{var i=function(){var t=a.value,n=e.findIndex((function(e){return e===t}));l.push(n)};for(o.s();!(a=o.n()).done;)i()}catch(b){o.e(b)}finally{o.f()}for(var d=[],j=0;j<e.length;j++)l.includes(j)||d.push(e[j]);return d;case"clear":if(e.length)return[]}return e},O=function(e){var t=e.activedTitle,n=void 0===t?"\u4ee3\u529e":t,a=e.completedTitle,l=void 0===a?"\u5df2\u5b8c\u6210":a,o=e.emptyContent,s=void 0===o?"\u65e0":o,r=Object(c.useReducer)(f,[]),u=Object(i.a)(r,2),O=u[0],v=u[1],h=Object(c.useState)([]),p=Object(i.a)(h,2),m=p[0],x=p[1],C=Object(c.useState)([]),g=Object(i.a)(C,2),k=g[0],y=g[1],N=Object(c.useState)(0),S=Object(i.a)(N,2),T=S[0],D=S[1],I=Object(c.useState)(!1),L=Object(i.a)(I,2),w=L[0],E=L[1];Object(c.useEffect)((function(){localStorage.setItem("todoList",JSON.stringify(O))}),[O]),Object(c.useEffect)((function(){var e=localStorage.getItem("todoList"),t=[];e&&(t=JSON.parse(e)),console.log(t),v({type:"clear",val:[]}),t.length&&v({type:"add",val:t})}),[]),Object(c.useEffect)((function(){var e=O.filter((function(e){return!e.completed}));x(e);var t=O.length-e.length;D(t)}),[O]),Object(c.useEffect)((function(){k.length!==T&&y(O.filter((function(e){return e.completed})))}),[O,k,T]);var F=Object(c.useCallback)((function(){E((function(e){return!e}))}),[]),J=Object(c.useCallback)((function(e){v({type:"add",val:[e]})}),[]),B=Object(c.useCallback)((function(e){v({type:"change",val:[e]})}),[]),A=Object(c.useCallback)((function(e){v({type:"delete",val:e})}),[]),P=Object(d.jsx)(b,{title:n,emptyContent:s,list:m,reverse:!0,onChange:B}),R=w?Object(d.jsx)(b,{title:l,emptyContent:s,list:k,onChange:B,onDelete:A}):P;return Object(d.jsxs)("div",{className:"todo",children:[Object(d.jsx)(j,{onTitleClick:F,onAdd:J}),R]})},v=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsx)(O,{emptyContent:"\u4ec0\u4e48\u90fd\u6ca1\u6709(\u25cf'\u25e1'\u25cf)"})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,l=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),l(e),o(e)}))};o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),h()}],[[20,1,2]]]);
//# sourceMappingURL=main.83bf2cb0.chunk.js.map