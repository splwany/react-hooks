(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),l=n(7),i=n.n(l),o=(n(14),n(15),n(4)),s=n(8),r=n(9),u=n(5),d=(n(16),n(17),n(0)),j=function(e){var t=e.onAdd,n=Object(c.useRef)(null),a=Object(c.useCallback)((function(){var e=n.current.value.trim();if(e.length){var c={key:Date.now(),content:e,completed:!1};t(c),n.current.value=""}}),[t]),l=Object(c.useCallback)((function(e){13===e.keyCode&&a()}),[a]);return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsx)("span",{className:"nav-title",children:"ToDo List"}),Object(d.jsx)("input",{className:"nav-input",type:"text",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",ref:n,onKeyDown:l}),Object(d.jsx)("button",{className:"nav-add-btn",onClick:a})]})},b=(n(19),function(e){var t=e.list,n=e.onChange,a=e.title,l=e.reverse,i=e.onDelete;l&&(t=t.slice().reverse());var o=Object(c.useCallback)((function(){i(t)}),[i,t]),s=Object(c.useCallback)((function(e){var c=Number(e.currentTarget.dataset.index);n(t[c])}),[n,t]);return t.length?Object(d.jsxs)("div",{className:"todo-list",children:[(Boolean(a)||i)&&Object(d.jsxs)("div",{className:"todo-title",children:[Object(d.jsx)("span",{children:a||"\u672a\u547d\u540d\u6807\u9898"}),i&&Object(d.jsx)("button",{className:"clear-btn",onClick:o,children:"\u6e05\u7a7a"})]}),t.map((function(e,t){return Object(d.jsxs)("li",{className:"todo-item","data-index":t,onClick:s,children:[Object(d.jsx)("input",{type:"checkbox",defaultChecked:e.completed}),Object(d.jsx)("span",{className:"todo-item-text".concat(e.completed?" completed":""),children:e.content})]},e.key)}))]}):null}),f=function(e,t){if("add"===t.type)return[].concat(Object(u.a)(e),[t.val[0]]);if("change"===t.type){var n=e.findIndex((function(e){return e===t.val[0]})),c=Object(r.a)({},e[n]);return c.completed=!c.completed,[].concat(Object(u.a)(e.slice(0,n)),[c],Object(u.a)(e.slice(n+1)))}if("delete"===t.type){var a,l=[],i=Object(s.a)(t.val);try{var o=function(){var t=a.value,n=e.findIndex((function(e){return e===t}));l.push(n)};for(i.s();!(a=i.n()).done;)o()}catch(b){i.e(b)}finally{i.f()}for(var d=[],j=0;j<e.length;j++)l.includes(j)||d.push(e[j]);return d}return e},v=function(e){var t=e.activedTitle,n=void 0===t?"\u4ee3\u529e":t,a=e.completedTitle,l=void 0===a?"\u5df2\u5b8c\u6210":a,i=e.emptyContent,s=void 0===i?"\u65e0":i,r=Object(c.useReducer)(f,[]),u=Object(o.a)(r,2),v=u[0],O=u[1],h=Object(c.useState)([]),p=Object(o.a)(h,2),m=p[0],x=p[1],g=Object(c.useState)([]),C=Object(o.a)(g,2),k=C[0],y=C[1],N=Object(c.useState)(0),D=Object(o.a)(N,2),T=D[0],S=D[1];Object(c.useEffect)((function(){var e=v.filter((function(e){return!e.completed}));x(e);var t=v.length-e.length;S(t)}),[v]),Object(c.useEffect)((function(){k.length!==T&&y(v.filter((function(e){return e.completed})))}),[v,k,T]);var w=Object(c.useCallback)((function(e){O({type:"add",val:[e]})}),[]),F=Object(c.useCallback)((function(e){O({type:"change",val:[e]})}),[]),I=Object(c.useCallback)((function(e){O({type:"delete",val:e})}),[]),B=Object(d.jsx)("div",{className:"empty",children:s});return Object(d.jsxs)("div",{className:"todo",children:[Object(d.jsx)(j,{onAdd:w}),!m.length&&!k.length&&B,Object(d.jsx)(b,{title:n,list:m,reverse:!0,onChange:F}),Object(d.jsx)(b,{title:l,list:k,onChange:F,onDelete:I})]})},O=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsx)(v,{emptyContent:"\u4ec0\u4e48\u90fd\u6ca1\u6709(\u25cf'\u25e1'\u25cf)"})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),l(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),h()}],[[20,1,2]]]);
//# sourceMappingURL=main.5b7697b2.chunk.js.map