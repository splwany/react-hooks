(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),l=n(7),i=n.n(l),o=(n(14),n(15),n(2)),s=n(8),r=n(9),u=n(5),d=(n(16),n(17),n(0)),j=function(e){var t=e.onTitleClick,n=e.onAdd,a=Object(c.useState)(0),l=Object(o.a)(a,2),i=l[0],s=l[1],r=Object(c.useRef)(null),u=Object(c.useCallback)((function(){s((function(e){return(e+1)%2})),t()}),[t]),j=Object(c.useCallback)((function(){var e=r.current.value.trim();if(e.length){var t={key:Date.now(),content:e,completed:!1};n(t),r.current.value=""}}),[n]),b=Object(c.useCallback)((function(e){13===e.keyCode&&j()}),[j]),f=i>0,O=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{className:"nav-input".concat(f?" hide":""),type:"text",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",ref:r,onKeyDown:b}),Object(d.jsx)("button",{className:"nav-add-btn".concat(f?" hide":""),onClick:j})]});return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsx)("span",{className:"nav-title",onClick:u,children:["Todo List","Done List"][i]}),O]})},b=(n(19),function(e){var t=e.list,n=e.onChange,a=e.title,l=e.emptyContent,i=void 0===l?"\u65e0":l,o=e.reverse,s=e.onDelete;o&&(t=t.slice().reverse());var r=Object(c.useCallback)((function(){s(t)}),[s,t]),u=Object(c.useCallback)((function(e){var c=Number(e.currentTarget.dataset.index);n(t[c])}),[n,t]),j=Object(d.jsx)("div",{className:"empty",children:i});return t.length?Object(d.jsxs)("div",{className:"todo-list",children:[(Boolean(a)||s)&&Object(d.jsxs)("div",{className:"todo-title",children:[Object(d.jsx)("span",{children:a||"\u672a\u547d\u540d\u6807\u9898"}),s&&Object(d.jsx)("button",{className:"clear-btn",onClick:r,children:"\u6e05\u7a7a"})]}),t.map((function(e,t){return Object(d.jsxs)("li",{className:"todo-item","data-index":t,onClick:u,children:[Object(d.jsx)("input",{type:"checkbox",defaultChecked:e.completed}),Object(d.jsx)("span",{className:"todo-item-text".concat(e.completed?" completed":""),children:e.content})]},e.key)}))]}):j}),f=function(e,t){if("add"===t.type)return[].concat(Object(u.a)(e),[t.val[0]]);if("change"===t.type){var n=e.findIndex((function(e){return e===t.val[0]})),c=Object(r.a)({},e[n]);return c.completed=!c.completed,[].concat(Object(u.a)(e.slice(0,n)),[c],Object(u.a)(e.slice(n+1)))}if("delete"===t.type){var a,l=[],i=Object(s.a)(t.val);try{var o=function(){var t=a.value,n=e.findIndex((function(e){return e===t}));l.push(n)};for(i.s();!(a=i.n()).done;)o()}catch(b){i.e(b)}finally{i.f()}for(var d=[],j=0;j<e.length;j++)l.includes(j)||d.push(e[j]);return d}return e},O=function(e){var t=e.activedTitle,n=void 0===t?"\u4ee3\u529e":t,a=e.completedTitle,l=void 0===a?"\u5df2\u5b8c\u6210":a,i=e.emptyContent,s=void 0===i?"\u65e0":i,r=Object(c.useReducer)(f,[]),u=Object(o.a)(r,2),O=u[0],v=u[1],p=Object(c.useState)([]),h=Object(o.a)(p,2),m=h[0],x=h[1],C=Object(c.useState)([]),k=Object(o.a)(C,2),y=k[0],g=k[1],N=Object(c.useState)(0),T=Object(o.a)(N,2),S=T[0],D=T[1],F=Object(c.useState)(!1),w=Object(o.a)(F,2),I=w[0],L=w[1];Object(c.useEffect)((function(){var e=O.filter((function(e){return!e.completed}));x(e);var t=O.length-e.length;D(t)}),[O]),Object(c.useEffect)((function(){y.length!==S&&g(O.filter((function(e){return e.completed})))}),[O,y,S]);var B=Object(c.useCallback)((function(){L((function(e){return!e}))}),[]),E=Object(c.useCallback)((function(e){v({type:"add",val:[e]})}),[]),A=Object(c.useCallback)((function(e){v({type:"change",val:[e]})}),[]),J=Object(c.useCallback)((function(e){v({type:"delete",val:e})}),[]),P=Object(d.jsx)(b,{title:n,emptyContent:s,list:m,reverse:!0,onChange:A}),R=I?Object(d.jsx)(b,{title:l,emptyContent:s,list:y,onChange:A,onDelete:J}):P;return Object(d.jsxs)("div",{className:"todo",children:[Object(d.jsx)(j,{onTitleClick:B,onAdd:E}),R]})},v=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsx)(O,{emptyContent:"\u4ec0\u4e48\u90fd\u6ca1\u6709(\u25cf'\u25e1'\u25cf)"})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),l(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),p()}],[[20,1,2]]]);
//# sourceMappingURL=main.829c314f.chunk.js.map