(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],[,,,,,,,function(e,t,c){},,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),o=c(8),i=c.n(o),s=(c(15),c(16),c(4)),l=c(9),r=c(10),u=c(5),d=(c(17),c(18),c(0)),j=function(e){var t=e.onAdd,c=Object(n.useRef)(null),a=Object(n.useCallback)((function(){var e=c.current.value.trim();if(e.length){var n={key:Date.now(),content:e,completed:!1};t(n),c.current.value=""}}),[t]),o=Object(n.useCallback)((function(e){13===e.keyCode&&a()}),[a]);return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsx)("span",{className:"nav-title",children:"ToDo List"}),Object(d.jsx)("input",{className:"nav-input",type:"text",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",ref:c,onKeyDown:o}),Object(d.jsx)("button",{className:"nav-add-btn",onClick:a})]})},b=(c(7),function(e){var t=e.onCompleted,c=e.reverse,a=void 0!==c&&c,o=e.activedList;a&&(o=o.slice().reverse());var i=Object(n.useCallback)((function(e){var c=Number(e.currentTarget.dataset.index);t(o[c])}),[t,o]);return Object(d.jsxs)("div",{className:"todo-list",children:[Object(d.jsx)("div",{className:"todo-title",children:"\u4ee3\u529e"}),o.map((function(e,t){return Object(d.jsxs)("li",{className:"todo-item","data-index":t,onClick:i,children:[Object(d.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){}}),Object(d.jsx)("span",{className:"todo-item-text".concat(e.completed?" completed":""),children:e.content})]},"item-".concat(t))}))]})}),f=function(e){var t=e.onActived,c=e.onDelete,a=e.completedList,o=Object(n.useCallback)((function(){c(a)}),[c,a]),i=Object(n.useCallback)((function(e){var c=Number(e.currentTarget.dataset.index);t(a[c])}),[t,a]);return Object(d.jsxs)("div",{className:"todo-list",children:[Object(d.jsxs)("div",{className:"todo-title",children:[Object(d.jsx)("span",{children:"\u5df2\u5b8c\u6210"}),Object(d.jsx)("button",{className:"clear-btn",onClick:o,children:"\u6e05\u7a7a"})]}),a.map((function(e,t){return Object(d.jsxs)("li",{className:"todo-item","data-index":t,onClick:i,children:[Object(d.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){}}),Object(d.jsx)("span",{className:"todo-item-text".concat(e.completed?" completed":""),children:e.content})]},"item-".concat(t))}))]})},O=function(){return Object(d.jsx)("div",{className:"empty",children:"\u4ec0\u4e48\u90fd\u6ca1\u6709(\u25cf'\u25e1'\u25cf)"})},v=function(e,t){if("add"===t.type)return[].concat(Object(u.a)(e),[t.val[0]]);if("change"===t.type){var c=e.findIndex((function(e){return e===t.val[0]})),n=Object(r.a)({},e[c]);return n.completed=!n.completed,[].concat(Object(u.a)(e.slice(0,c)),[n],Object(u.a)(e.slice(c+1)))}if("delete"===t.type){var a,o=[],i=Object(l.a)(t.val);try{var s=function(){var t=a.value,c=e.findIndex((function(e){return e===t}));o.push(c)};for(i.s();!(a=i.n()).done;)s()}catch(b){i.e(b)}finally{i.f()}for(var d=[],j=0;j<e.length;j++)o.includes(j)||d.push(e[j]);return d}return e},m=function(){var e=Object(n.useReducer)(v,[]),t=Object(s.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),l=i[0],r=i[1],u=Object(n.useState)([]),m=Object(s.a)(u,2),p=m[0],h=m[1],x=Object(n.useState)(0),k=Object(s.a)(x,2),g=k[0],C=k[1];Object(n.useEffect)((function(){var e=c.filter((function(e){return!e.completed}));r(e);var t=c.length-e.length;C(t)}),[c]),Object(n.useEffect)((function(){p.length!==g&&h(c.filter((function(e){return e.completed})))}),[c,p,g]);var N=Object(n.useCallback)((function(e){a({type:"add",val:[e]})}),[]),y=Object(n.useCallback)((function(e){a({type:"change",val:[e]})}),[]),L=Object(n.useCallback)((function(e){a({type:"delete",val:e})}),[]);return Object(d.jsxs)("div",{className:"todo",children:[Object(d.jsx)(j,{onAdd:N}),l.length||p.length?"":Object(d.jsx)(O,{}),l.length?Object(d.jsx)(b,{activedList:l,reverse:!0,onCompleted:y}):"",p.length?Object(d.jsx)(f,{completedList:p,onActived:y,onDelete:L}):""]})},p=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsx)(m,{})})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),o(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),h()}],[[20,1,2]]]);
//# sourceMappingURL=main.00cf90d6.chunk.js.map